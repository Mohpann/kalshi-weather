<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Kalshi Weather Boy</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
  </head>
  <body>
    <main class="page">
      <header class="hero">
        <div class="hero__badge">EVENT OVERVIEW</div>
        <div class="hero__row">
          <div class="hero__content">
            <h1>Kalshi Weather Boy</h1>
            <p class="hero__sub" data-field="subtitle">
              Miami high-temperature markets with live orderbooks.
            </p>
          </div>
          <div class="hero__temps">
            <div class="hero__temp">
              <div class="hero__temp-label">Forecast High</div>
              <div class="hero__temp-value" data-field="forecast-high-big">—</div>
              <div class="hero__temp-meta" data-field="forecast-high-meta">—</div>
            </div>
            <div class="hero__temp hero__temp--alt">
              <div class="hero__temp-label">Reference High</div>
              <div class="hero__temp-value" data-field="reference-high-big">—</div>
              <div class="hero__temp-meta" data-field="reference-high-meta">—</div>
            </div>
          </div>
          <div class="hero__actions">
            <a class="btn btn--primary" href="https://kalshi.com/markets/kxhighmia" target="_blank" rel="noreferrer">
              Open Kalshi Market
            </a>
            <button class="btn btn--ghost" type="button" data-action="snapshot">
              Take Snapshot
            </button>
            <button class="btn btn--ghost" type="button" data-action="refresh">
              Refresh Snapshot
            </button>
          </div>
        </div>
      </header>

      <section class="panel panel--forecast-compare">
        <div class="panel__header">
          <h2>Forecast High Comparison</h2>
          <span class="panel__pill">KMIA · Daytime</span>
        </div>
        <div class="forecast-table">
          <div class="forecast-table__header">
            <span>Source</span>
            <span>Forecast High</span>
            <span>Notes</span>
          </div>
          <div class="forecast-table__row">
            <span class="forecast-table__source">NWS Point Forecast</span>
            <span data-field="table-nws-forecast-high">—</span>
            <span data-field="table-nws-forecast-note">—</span>
          </div>
          <div class="forecast-table__row">
            <span class="forecast-table__source">NWS Station Observed High</span>
            <span data-field="table-nws-observed-high">—</span>
            <span data-field="table-nws-observed-note">—</span>
          </div>
          <div class="forecast-table__row">
            <span class="forecast-table__source">Open-Meteo GFS</span>
            <span data-field="table-openmeteo-gfs-high">—</span>
            <span data-field="table-openmeteo-gfs-note">—</span>
          </div>
          <div class="forecast-table__row">
            <span class="forecast-table__source">Open-Meteo ECMWF</span>
            <span data-field="table-openmeteo-ecmwf-high">—</span>
            <span data-field="table-openmeteo-ecmwf-note">—</span>
          </div>
          <div class="forecast-table__row">
            <span class="forecast-table__source">Open-Meteo Blend</span>
            <span data-field="table-openmeteo-blend-high">—</span>
            <span data-field="table-openmeteo-blend-note">—</span>
          </div>
          <div class="forecast-table__row">
            <span class="forecast-table__source">Meteosource Daily High</span>
            <span data-field="table-meteosource-high">—</span>
            <span data-field="table-meteosource-note">—</span>
          </div>
        </div>
      </section>

      <section class="panel panel--event">
        <div class="panel__header">
          <h2>Event Markets</h2>
          <span class="panel__pill">Click to expand</span>
        </div>
        <div class="event-markets" data-field="event-markets">
          <div class="event-markets__row">No data</div>
        </div>
      </section>

      <section class="panel panel--opportunities">
        <div class="panel__header">
          <h2>Buying Opportunities</h2>
          <span class="panel__pill">Forecast‑aligned</span>
        </div>
        <div class="opportunities" data-field="opportunities">
          <div class="opportunities__row">No opportunities yet</div>
        </div>
      </section>

      <section class="panel panel--positions">
        <div class="panel__header">
          <h2>Positions</h2>
          <span class="panel__pill">Portfolio</span>
        </div>
        <div class="positions" data-field="positions">
          <div class="positions__row">No positions loaded</div>
        </div>
      </section>

      <section class="panel panel--orders">
        <div class="panel__header">
          <h2>Recent Orders</h2>
          <span class="panel__pill">Executed</span>
        </div>
        <div class="orders" data-field="orders">
          <div class="orders__row">No orders loaded</div>
        </div>
      </section>

      <section class="panel panel--logs">
        <div class="panel__header">
          <h2>Live Logs</h2>
          <span class="panel__pill">WebSocket</span>
        </div>
        <div class="logs" data-field="logs">
          <div class="logs__line">Waiting for stream...</div>
        </div>
      </section>

      <footer class="footer">
        <span>Local dashboard · no trades executed</span>
        <span class="footer__mono">v2.0</span>
      </footer>
    </main>
    <script src="{{ url_for('static', filename='app.js') }}"></script>
  </body>
</html>
